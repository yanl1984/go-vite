(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{545:function(e,t,a){e.exports=a.p+"assets/img/vscode-extension.b5df586d.png"},546:function(e,t,a){e.exports=a.p+"assets/img/vscode-debug.05eb94aa.png"},680:function(e,t,a){"use strict";a.r(t);var n=a(0),c=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"contract-debugging"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#contract-debugging"}},[e._v("#")]),e._v(" Contract Debugging")]),e._v(" "),n("h2",{attrs:{id:"debugging-environment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#debugging-environment"}},[e._v("#")]),e._v(" Debugging Environment")]),e._v(" "),n("p",[e._v("In order to debug smart contract, you need setup a local node and do debugging through your node's RPC interface.")]),e._v(" "),n("p",[e._v("Vite provides 2 debugging environments: development and testing.")]),e._v(" "),n("p",[n("strong",[e._v("Development Environment")])]),e._v(" "),n("ul",[n("li",[e._v("Account balance is NOT verified before sending transaction.")]),e._v(" "),n("li",[e._v("Each transaction can utilize maximum 47.62"),n("code",[e._v("UT")]),e._v(" quota with no staking.")])]),e._v(" "),n("p",[n("strong",[e._v("Testing Environment")])]),e._v(" "),n("ul",[n("li",[e._v("Quota and balance are verified normally. Pay attention to your balance and quota during debugging.")])]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("Tips")]),e._v(" "),n("p",[e._v("It is possible to debug your smart contract in Microsoft Visual Studio Code (aka VS Code) in development environment.")])]),e._v(" "),n("h2",{attrs:{id:"debugging-in-vs-code"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#debugging-in-vs-code"}},[e._v("#")]),e._v(" Debugging in VS Code")]),e._v(" "),n("p",[e._v("Soliditypp extension for VS Code supports debugging "),n("code",[e._v("solidity++")]),e._v(" smart contract in local development environment.")]),e._v(" "),n("p",[e._v("Following features are supported:")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("solidity++")]),e._v(" syntax highlighting")]),e._v(" "),n("li",[n("code",[e._v("solidity++")]),e._v(" code auto completion")]),e._v(" "),n("li",[e._v("Auto compilation when saving "),n("code",[e._v(".solpp")]),e._v(" file")]),e._v(" "),n("li",[e._v("Compilation error highlighting")]),e._v(" "),n("li",[e._v("Detailed error message displaying when mouse over")]),e._v(" "),n("li",[e._v("One-click smart contract deployment and debugging")]),e._v(" "),n("li",[e._v("Support for multiple smart contract interaction")]),e._v(" "),n("li",[e._v("Deployment/debugging result displaying")]),e._v(" "),n("li",[e._v("Support for offchain queries")]),e._v(" "),n("li",[e._v("Example "),n("code",[e._v("solidity++")]),e._v(" code")])]),e._v(" "),n("h3",{attrs:{id:"install-the-extension"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#install-the-extension"}},[e._v("#")]),e._v(" Install the Extension")]),e._v(" "),n("p",[e._v('Search for "Soliditypp" in VS Code and install.')]),e._v(" "),n("p",[n("img",{attrs:{src:a(545),alt:""}})]),e._v(" "),n("h3",{attrs:{id:"create-helloworld-solpp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-helloworld-solpp"}},[e._v("#")]),e._v(" Create HelloWorld.solpp")]),e._v(" "),n("p",[e._v("Open VS Code workbench, press "),n("code",[e._v("⇧⌘P")]),e._v("(or "),n("code",[e._v("F1")]),e._v(") in Mac(or "),n("code",[e._v("Ctrl+Shift+P")]),e._v(" in Windows) to bring Command Palette, and then execute command "),n("code",[e._v("soliditypp: Generage HelloWorld.solpp")]),e._v(". This will generate "),n("code",[e._v("HelloWorld.solpp")]),e._v(" under current folder as an example.")]),e._v(" "),n("h3",{attrs:{id:"write-smart-contract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#write-smart-contract"}},[e._v("#")]),e._v(" Write Smart Contract")]),e._v(" "),n("p",[e._v("Write your contract in a new "),n("code",[e._v(".solpp")]),e._v(" file and then save it by pressing "),n("code",[e._v("⌘S")]),e._v(" in Mac(or "),n("code",[e._v("Ctrl+S")]),e._v(" in Windows). Your source file will be automatically compiled each time it is saved.\nLines with compilation error in the code will be marked with red underscore. Detailed error message will be displayed when you mouse over.")]),e._v(" "),n("p",[e._v("VS Code will recognize "),n("code",[e._v(".solpp")]),e._v(" file as "),n("code",[e._v("solidity++")]),e._v(" source by default.")]),e._v(" "),n("h3",{attrs:{id:"deploy-debug-smart-contract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#deploy-debug-smart-contract"}},[e._v("#")]),e._v(" Deploy/Debug Smart Contract")]),e._v(" "),n("p",[e._v("In Debug panel, start debugging and choose "),n("code",[e._v("Soliditypp")]),e._v(" environment. This will launch a local "),n("code",[e._v("gvite")]),e._v(" node and all following deployment and debugging steps will take place on this node.\nPlease note that all data will be cleared from the node after debugging is complete.")]),e._v(" "),n("p",[n("img",{attrs:{src:a(546),alt:""}})]),e._v(" "),n("ul",[n("li",[e._v("Section 1: soliditypp source code panel")]),e._v(" "),n("li",[e._v("Section 2: current address used for contract deployment and debugging. If you want to use a different address, click "),n("code",[e._v("+")]),e._v(" to generate a new address and then choose the address in the droplist on the right side")]),e._v(" "),n("li",[e._v("Section 3: deploy panel. Field "),n("code",[e._v("amount")]),e._v(" can be used to send VITE (1 VITE = 1e18 attov) upon deploying the contract. Click "),n("code",[e._v("deploy")]),e._v(" button to deploy the contract in local development environment.")]),e._v(" "),n("li",[e._v("Section 4: contracts deployed. Multiple results will be displayed if more than one contracts are deployed. Parameter "),n("code",[e._v("amount")]),e._v(" is used to send VITE to the contract when calling a function. For example, clicking "),n("code",[e._v('call "SayHello"')]),e._v(" will call method "),n("code",[e._v("SayHello")]),e._v(" of contract "),n("code",[e._v("HelloWorld")])]),e._v(" "),n("li",[e._v("Section 5: deployment/debugging result. "),n("code",[e._v("Send")]),e._v("/"),n("code",[e._v("Receive")]),e._v(" shows the information of request/response transaction. New request transaction is displayed in "),n("code",[e._v("Receive")]),e._v(" if it calls other method. Please note that transactions in Vite are asynchronous and user may need wait until the response transaction is generated after sending the request. More information about "),n("code",[e._v("Send")]),e._v(" and "),n("code",[e._v("Receive")]),e._v(" please see "),n("RouterLink",{attrs:{to:"/api/rpc/common_models_v2.html#accountblock"}},[e._v("AccountBlock")]),e._v("。")],1)]),e._v(" "),n("h2",{attrs:{id:"debugging-in-command-line"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#debugging-in-command-line"}},[e._v("#")]),e._v(" Debugging in Command Line")]),e._v(" "),n("h3",{attrs:{id:"development-environment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#development-environment"}},[e._v("#")]),e._v(" Development Environment")]),e._v(" "),n("p",[e._v("Download "),n("a",{attrs:{href:"https://github.com/vitelabs/gvite-contracts/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gvite Debugging Package"),n("OutboundLink")],1),e._v(" in development environment and install")]),e._v(" "),n("h4",{attrs:{id:"install"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[e._v("#")]),e._v(" Install")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyMgVW56aXAKdGFyIC14enZmIGNvbnRyYWN0ZGV2LXYxLjMuMS1kYXJ3aW4udGFyLmd6Cg=="}}),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyMgRW50ZXIgZm9sZGVyIGV4dHJhY3RlZApjZCBjb250cmFjdF9kZXYK"}}),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyMgU3RhcnQgZ3ZpdGUgZGVidWdnaW5nIGVudmlyb25tZW50CnNoIHJ1bi5zaAo="}}),e._v(" "),n("p",[e._v("Check gvite.log to see if gvite debugging environment has been started successfully")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y2F0IGd2aXRlLmxvZwo="}}),e._v(" "),n("p",[e._v("Following messages show a successful startup")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"dD0yMDE4LTExLTA5VDE3OjQ0OjQ4KzA4MDAgbHZsPWluZm8gbXNnPU5vZGVTZXJ2ZXIuRGF0YURpcjovaG9tZS91YnVudHUvY29udHJhY3RfZGV2L2xlZGdlci9kZXZkYXRhIG1vZHVsZT1ndml0ZS9ub2RlX21hbmFnZXIKdD0yMDE4LTExLTA5VDE3OjQ0OjQ4KzA4MDAgbHZsPWluZm8gbXNnPU5vZGVTZXJ2ZXIuS2V5U3RvcmVEaXI6L2hvbWUvdWJ1bnR1L2NvbnRyYWN0X2Rldi9sZWRnZXIvZGV2ZGF0YS93YWxsZXQgbW9kdWxlPWd2aXRlL25vZGVfbWFuYWdlcgpQcmVwYXJlIHRoZSBOb2RlIHN1Y2Nlc3MhISEKU3RhcnQgdGhlIE5vZGUgc3VjY2VzcyEhIQo="}}),e._v(" "),n("h4",{attrs:{id:"create-contract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-contract"}},[e._v("#")]),e._v(" Create Contract")]),e._v(" "),n("p",[e._v('First write contract in Solidity++ and save into a ".solpp" file under the same directory with start script')]),e._v(" "),n("p",[e._v("Compile contract")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyMgQ29tcGlsZSBjb250cmFjdCB1c2luZyBzb2xwcGMsIGFuZCBnZW5lcmVhdGUgYmluYXJ5IGNvZGUgYW5kIEFCSQouL3NvbHBwYyAtLWJpbiAtLWFiaSBIZWxsb1dvcmxkLnNvbHBwCg=="}}),e._v(" "),n("p",[e._v("Deploy contract in local debugging environment")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyMgQ3JlYXRlIGNvbnRyYWN0IGZyb20gSGVsbG9Xb3JsZC5zb2xwcCB3aXRoIHRlc3QgYWNjb3VudChjcmVhdGVkIGR1cmluZyBzdGFydHVwKQpzaCBjcmVhdGVfY29udHJhY3Quc2ggSGVsbG9Xb3JsZC5zb2xwcAo="}}),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyMgQmVsb3cgc2NyaXB0IHNob3dzIGhvdyB0byBjcmVhdGUgY29udHJhY3Qgd2l0aCBwYXNzZWQtaW4gcGFyYW1ldGVycwpjdXJsIC1YIFBPU1QgXAogIGh0dHA6Ly8xMjcuMC4wLjE6NDgxMzIvIFwKICAtSCAnY29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9qc29uJyBcCiAgLWQgJ3sKICAgICZxdW90O2pzb25ycGMmcXVvdDs6ICZxdW90OzIuMCZxdW90OywKICAgICZxdW90O2lkJnF1b3Q7OiAwLAogICAgJnF1b3Q7bWV0aG9kJnF1b3Q7OiAmcXVvdDt2bWRlYnVnX2NyZWF0ZUNvbnRyYWN0JnF1b3Q7LAogICAgJnF1b3Q7cGFyYW1zJnF1b3Q7OiBbCiAgICAgICAgewogICAgICAgICAgJnF1b3Q7ZmlsZU5hbWUmcXVvdDs6JnF1b3Q7J2Bwd2RgL0FzeW5jQ2FsbC5zb2xwcCcmcXVvdDssCiAgICAgICAgICAmcXVvdDtwYXJhbXMmcXVvdDs6ewogICAgICAgICAgICAmcXVvdDtBJnF1b3Q7OnsKICAgICAgICAgICAgICAmcXVvdDthbW91bnQmcXVvdDs6JnF1b3Q7MCZxdW90OywKICAgICAgICAgICAgICAmcXVvdDtwYXJhbXMmcXVvdDs6W10KICAgICAgICAgICAgfSwKICAgICAgICAgICAgJnF1b3Q7QiZxdW90Ozp7CiAgICAgICAgICAgICAgJnF1b3Q7YW1vdW50JnF1b3Q7OiZxdW90OzAmcXVvdDssCiAgICAgICAgICAgICAgJnF1b3Q7cGFyYW1zJnF1b3Q7OlsmcXVvdDsxJnF1b3Q7XQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgXQp9Jwo="}}),e._v(" "),n("p",[e._v("The parameters are explained below")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogIC8vIENyZWF0ZSBjb250cmFjdCBmcm9tIEFzeW5jQ2FsbC5zb2xwcCB1bmRlciBjdXJyZW50IGRpcmVjdG9yeQogICZxdW90O2ZpbGVOYW1lJnF1b3Q7OiZxdW90OydgcHdkYC9Bc3luY0NhbGwuc29scHAnJnF1b3Q7LAogICZxdW90O3BhcmFtcyZxdW90Ozp7CiAgICAvLyBQYXNzZWQtaW4gcGFyYW1ldGVycyBmb3IgY29udHJhY3RzLiBUaGlzIGV4YW1wbGUgc2hvd3MgdHdvIGNvbnRyYWN0cyAtIEEgYW5kIEIKICAgICZxdW90O0EmcXVvdDs6ewogICAgICAvLyBUcmFuc2ZlciBhbW91bnQgd2hlbiBjcmVhdGluZyBjb250cmFjdAogICAgICAmcXVvdDthbW91bnQmcXVvdDs6JnF1b3Q7MCZxdW90OywKICAgICAgJnF1b3Q7cGFyYW1zJnF1b3Q7OltdCiAgICB9LAogICAgJnF1b3Q7QiZxdW90Ozp7CiAgICAgICZxdW90O2Ftb3VudCZxdW90OzomcXVvdDswJnF1b3Q7LAogICAgICAvLyBQYXNzZWQtaW4gcGFyYW1ldGVycyBmb3IgY29udHJ1Y3Rvci4gSW4gdGhpcyBleGFtcGxlLCBpdCBwYXNzZXMgaW4gYSB1aW50IHZhbHVlIGZvciBjb250cmFjdCBCJ3MgY29udHJ1Y3RvcgogICAgICAmcXVvdDtwYXJhbXMmcXVvdDs6WyZxdW90OzEmcXVvdDtdCiAgICB9CiAgfQp9Cg=="}}),e._v(" "),n("p",[e._v("Following return message shows the contract has been created successfully")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICZxdW90O2pzb25ycGMmcXVvdDs6ICZxdW90OzIuMCZxdW90OywgCiAgJnF1b3Q7aWQmcXVvdDs6IDAsIAogICZxdW90O3Jlc3VsdCZxdW90OzogWwogICAgewogICAgICAmcXVvdDthY2NvdW50QWRkciZxdW90OzogJnF1b3Q7dml0ZV8yMTQ4M2M0NmE2NDc5OWM3ZGIwY2JhODhjZjdiMDA3YTJkMWEzN2U4NjNmN2JlOTRiNyZxdW90OywgCiAgICAgICZxdW90O2FjY291bnRQcml2YXRlS2V5JnF1b3Q7OiAmcXVvdDtiMThiY2Q2MWRiMTcxZmIwYzk3NzEyYzI0ZGJmYzRmZTdkMjc5YTZlOWY0MGJlMmE4MWY1ZTI3OTIwNjg4NzIzN2VlNzdlZDgyMDI1ZmJlODIxYTk2OWNjODMyMWMxMzllZDY5ZGRlMTZiZWQ5YzVkZmFiYmM2MzQzODY4YmI2OCZxdW90OywgCiAgICAgICZxdW90O2NvbnRyYWN0QWRkciZxdW90OzogJnF1b3Q7dml0ZV9kNjI0YjBiZWFkMDY3MjM3NzAwYTg2MzE0Mjg3ODQ5MTYzZTRhMGZiNjEzOWZkZmY0MiZxdW90OywgCiAgICAgICZxdW90O3NlbmRCbG9ja0hhc2gmcXVvdDs6ICZxdW90OzI2NTkzMDU3NWUwMzU5NzZmMGU4OWI3YjRhZDAwYzVlOTFmZWZjOTIzMDY0N2I0N2RhZGQ3YzcyNzQ3OTdkM2ImcXVvdDssIAogICAgICAmcXVvdDttZXRob2RMaXN0JnF1b3Q7OiBbCiAgICAgICAgewogICAgICAgICAgJnF1b3Q7Y29udHJhY3RBZGRyJnF1b3Q7OiAmcXVvdDt2aXRlX2Q2MjRiMGJlYWQwNjcyMzc3MDBhODYzMTQyODc4NDkxNjNlNGEwZmI2MTM5ZmRmZjQyJnF1b3Q7LCAKICAgICAgICAgICZxdW90O2FjY291bnRBZGRyJnF1b3Q7OiAmcXVvdDt2aXRlXzIxNDgzYzQ2YTY0Nzk5YzdkYjBjYmE4OGNmN2IwMDdhMmQxYTM3ZTg2M2Y3YmU5NGI3JnF1b3Q7LCAKICAgICAgICAgICZxdW90O2Ftb3VudCZxdW90OzogJnF1b3Q7MCZxdW90OywgCiAgICAgICAgICAmcXVvdDttZXRob2ROYW1lJnF1b3Q7OiAmcXVvdDtTYXlIZWxsbyZxdW90OywgCiAgICAgICAgICAmcXVvdDtwYXJhbXMmcXVvdDs6IFsKICAgICAgICAgICAgJnF1b3Q7YWRkcmVzcyZxdW90OwogICAgICAgICAgXQogICAgICAgIH0KICAgICAgXQogICAgfQogIF0KfQo="}}),e._v(" "),n("p",[e._v("Explained below")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICZxdW90O2pzb25ycGMmcXVvdDs6JnF1b3Q7Mi4wJnF1b3Q7LAogICZxdW90O2lkJnF1b3Q7OjAsCiAgJnF1b3Q7cmVzdWx0JnF1b3Q7OlsgCiAgICAvLyBMaXN0IG9mIGNvbnRyYWN0cyBjcmVhdGVkLiBJZiBtdWx0aXBsZSBjb250cmFjdHMgZXhpc3QgaW4gdGhlIC5zb2xwcCBmaWxlLCB0aGV5IHdpbGwgYWxsIGJlIGxpc3RlZCBoZXJlCiAgICB7CiAgICAgIC8vIFRlc3QgYWNjb3VudCBhZGRyZXNzCiAgICAgICZxdW90O2FjY291bnRBZGRyJnF1b3Q7OiZxdW90O3ZpdGVfMjE0ODNjNDZhNjQ3OTljN2RiMGNiYTg4Y2Y3YjAwN2EyZDFhMzdlODYzZjdiZTk0YjcmcXVvdDssICAKICAgICAgLy8gVGVzdCBhY2NvdW50IHByaXZhdGUga2V5CiAgICAgICZxdW90O2FjY291bnRQcml2YXRlS2V5JnF1b3Q7OiZxdW90O2IxOGJjZDYxZGIxNzFmYjBjOTc3MTJjMjRkYmZjNGZlN2QyNzlhNmU5ZjQwYmUyYTgxZjVlMjc5MjA2ODg3MjM3ZWU3N2VkODIwMjVmYmU4MjFhOTY5Y2M4MzIxYzEzOWVkNjlkZGUxNmJlZDljNWRmYWJiYzYzNDM4NjhiYjY4JnF1b3Q7LAogICAgICAvLyBDb250cmFjdCBhY2NvdW50IGFkZHJlc3MKICAgICAgJnF1b3Q7Y29udHJhY3RBZGRyJnF1b3Q7OiZxdW90O3ZpdGVfZDYyNGIwYmVhZDA2NzIzNzcwMGE4NjMxNDI4Nzg0OTE2M2U0YTBmYjYxMzlmZGZmNDImcXVvdDssCiAgICAgIC8vIEhhc2ggb2YgcmVxdWVzdCB0cmFuc2FjdGlvbiB0aGF0IGNyZWF0ZWQgdGhlIGNvbnRyYWN0CiAgICAgICZxdW90O3NlbmRCbG9ja0hhc2gmcXVvdDs6JnF1b3Q7MjY1OTMwNTc1ZTAzNTk3NmYwZTg5YjdiNGFkMDBjNWU5MWZlZmM5MjMwNjQ3YjQ3ZGFkZDdjNzI3NDc5N2QzYiZxdW90OywKICAgICAgLy8gTWV0aG9kIGxpc3Qgb2YgdGhlIGNvbnRyYWN0CiAgICAgICZxdW90O21ldGhvZExpc3QmcXVvdDs6WwogICAgICAgIHsKICAgICAgICAgIC8vIENvbnRyYWN0IGFjY291bnQgYWRkcmVzcwogICAgICAgICAgJnF1b3Q7Y29udHJhY3RBZGRyJnF1b3Q7OiZxdW90O3ZpdGVfZDYyNGIwYmVhZDA2NzIzNzcwMGE4NjMxNDI4Nzg0OTE2M2U0YTBmYjYxMzlmZGZmNDImcXVvdDssCiAgICAgICAgICAvLyBUZXN0IGFjY291bnQgYWRkcmVzcyAKICAgICAgICAgICZxdW90O2FjY291bnRBZGRyJnF1b3Q7OiZxdW90O3ZpdGVfMjE0ODNjNDZhNjQ3OTljN2RiMGNiYTg4Y2Y3YjAwN2EyZDFhMzdlODYzZjdiZTk0YjcmcXVvdDssCiAgICAgICAgICAvLyBUcmFuc2ZlciBhbW91bnQgd2hlbiB0aGUgbWV0aG9kIGlzIGNhbGxlZAogICAgICAgICAgJnF1b3Q7YW1vdW50JnF1b3Q7OiZxdW90OzAmcXVvdDssCiAgICAgICAgICAvLyBNZXRob2QgbmFtZQogICAgICAgICAgJnF1b3Q7bWV0aG9kTmFtZSZxdW90OzomcXVvdDtTYXlIZWxsbyZxdW90OywKICAgICAgICAgIC8vIFBhcmFtZXRlciBsaXN0IHdpdGggcHNldWRvIHZhbHVlLiBNdWx0aXBsZSBwYXJhbWV0ZXJzIGFyZSBkaXNwbGF5ZWQgaWYgdGhlIG1ldGhvZCByZXF1aXJlcyBtb3JlIHRoYW4gb25lIHBhcmFybWV0ZXIuCiAgICAgICAgICAmcXVvdDtwYXJhbXMmcXVvdDs6WyZxdW90O2FkZHJlc3MmcXVvdDtdCiAgICAgICAgfQogICAgICBdCiAgICB9CiAgXQp9Cg=="}}),e._v(" "),n("h4",{attrs:{id:"call-contract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#call-contract"}},[e._v("#")]),e._v(" Call Contract")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyMgQ2FsbCBhIGNvbnRyYWN0IG1ldGhvZC4gUmVtZW1iZXIgdG8gc3BlY2lmeSB0aGUgcmlnaHQgcGFyYW1ldGVycyB0aGF0IG1hdGNoIHlvdXIgdGVzdGluZyBlbnZpcm9ubWVudApjdXJsIC1YIFBPU1QgXAogIGh0dHA6Ly8xMjcuMC4wLjE6NDgxMzIvIFwKICAtSCAnY29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9qc29uJyBcCiAgLWQgJ3sKICAgICZxdW90O2pzb25ycGMmcXVvdDs6ICZxdW90OzIuMCZxdW90OywKICAgICZxdW90O2lkJnF1b3Q7OiAwLAogICAgJnF1b3Q7bWV0aG9kJnF1b3Q7OiAmcXVvdDt2bWRlYnVnX2NhbGxDb250cmFjdCZxdW90OywKICAgICZxdW90O3BhcmFtcyZxdW90OzogWwogICAgICAgIHsKICAgICAgICAgICZxdW90O2NvbnRyYWN0QWRkciZxdW90OzomcXVvdDt2aXRlX2Q2MjRiMGJlYWQwNjcyMzc3MDBhODYzMTQyODc4NDkxNjNlNGEwZmI2MTM5ZmRmZjQyJnF1b3Q7LAogICAgICAgICAgJnF1b3Q7YWNjb3VudEFkZHImcXVvdDs6JnF1b3Q7dml0ZV8yMTQ4M2M0NmE2NDc5OWM3ZGIwY2JhODhjZjdiMDA3YTJkMWEzN2U4NjNmN2JlOTRiNyZxdW90OywKICAgICAgICAgICZxdW90O2Ftb3VudCZxdW90OzomcXVvdDswJnF1b3Q7LAogICAgICAgICAgJnF1b3Q7bWV0aG9kTmFtZSZxdW90OzomcXVvdDtTYXlIZWxsbyZxdW90OywKICAgICAgICAgICZxdW90O3BhcmFtcyZxdW90OzpbJnF1b3Q7dml0ZV8yMTQ4M2M0NmE2NDc5OWM3ZGIwY2JhODhjZjdiMDA3YTJkMWEzN2U4NjNmN2JlOTRiNyZxdW90O10KICAgICAgICB9CiAgICBdCn0nCg=="}}),e._v(" "),n("p",[e._v("Return message is explained below")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICAgJnF1b3Q7anNvbnJwYyZxdW90OzogJnF1b3Q7Mi4wJnF1b3Q7LCAKICAgICZxdW90O2lkJnF1b3Q7OiAwLCAKICAgICZxdW90O3Jlc3VsdCZxdW90OzogewogICAgICAgIC8vIENvbnRyYWN0IGFjY291bnQgYWRkcmVzcwogICAgICAgICZxdW90O2NvbnRyYWN0QWRkciZxdW90OzogJnF1b3Q7dml0ZV8wYTQ5ZDM4ZTc2OTE2MmYwNWQwZGY2NDViODkwYWM0NTBmODBjYjQ5ZDUyZTg3NjVhYiZxdW90OywgCiAgICAgICAgLy8gVGVzdCBhY2NvdW50IGFkZHJlc3MgdGhhdCBjYWxsZWQgdGhlIGNvbnRyYWN0LiBUaGlzIGFjY291bnQgd2FzIGNyZWF0ZWQgYXV0b21hdGljYWxseSB3aGVuIHlvdXIgY3JlYXRlZCB0aGUgY29udHJhY3QKICAgICAgICAmcXVvdDthY2NvdW50QWRkciZxdW90OzogJnF1b3Q7dml0ZV9hNGFhMzJiMzBhNDU2NGQzYzVmZmFjMWY3NDE2ZDA5Y2Q0ZGQzNmJiZjM2NWRmNWJlNSZxdW90OywgCiAgICAgICAgLy8gVGVzdCBhY2NvdW50IHByaXZhdGUga2V5CiAgICAgICAgJnF1b3Q7YWNjb3VudFByaXZhdGVLZXkmcXVvdDs6ICZxdW90OzJiZWYyYmE0ODVlZDNlNGRlOGI5M2JkMGZiODc0NmRiNDdhOTFmNGJkZGUwYzAwNzEyN2I1YmM2NTQ4ZmY0OTY0MmQ0MTM4YzQwM2NjMjZlMjAyOTlhMmYxNDU2ODdiZjU2MmY2YmExZTdkMGQ0NWE3NWQ3YzdmNThkZTQyYjI1JnF1b3Q7LCAKICAgICAgICAvLyBIYXNoIG9mIHJlcXVlc3QgdHJhbnNhY3Rpb24gdGhhdCBjYWxsZWQgdGhlIGNvbnRyYWN0CiAgICAgICAgJnF1b3Q7c2VuZEJsb2NrSGFzaCZxdW90OzogJnF1b3Q7ZWVhODgzOTkyMDljZDVhYmRlZGVjMTEyOGI4YmRmZDFhMjhlMmQ2YWM2YWRlNmQ1Y2VlNzJlOTk3YTgwMDg5MyZxdW90OwogICAgfQp9Cg=="}}),e._v(" "),n("p",[e._v("Script call.sh shows an example how to call a contract")]),e._v(" "),n("h4",{attrs:{id:"verify-execution-result"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#verify-execution-result"}},[e._v("#")]),e._v(" Verify Execution Result")]),e._v(" "),n("p",[e._v("Since the response transactions of creating or calling contract are processed asynchronously, we have to wait for a while(1~6s in local environment) after sending out the request.\nExecuting steps and results are recorded in two separate logs.")]),e._v(" "),n("p",[e._v("Logs are under "),n("code",[e._v("/ledger/devdata/vmlog")]),e._v(" in the folder unzipped")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("vm.log")]),e._v("：Contains logs of contract execution entrance, result and events")]),e._v(" "),n("li",[n("code",[e._v("interpreter.log")]),e._v("：Contains detailed info of contract execution steps, including VM instructions, status of stack, memory, storage and etc.")])]),e._v(" "),n("p",[e._v("It's also feasible to query contract account chain to check contract execution result")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c2ggcXVlcnlfYmxvY2suc2ggdml0ZV8wYTQ5ZDM4ZTc2OTE2MmYwNWQwZGY2NDViODkwYWM0NTBmODBjYjQ5ZDUyZTg3NjVhYgo="}}),e._v(" "),n("h3",{attrs:{id:"testing-environment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#testing-environment"}},[e._v("#")]),e._v(" Testing Environment")]),e._v(" "),n("p",[e._v("Download "),n("a",{attrs:{href:"https://github.com/vitelabs/gvite-contracts/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gvite Debugging Package"),n("OutboundLink")],1),e._v(" in testing environment and install")]),e._v(" "),n("h4",{attrs:{id:"install-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#install-2"}},[e._v("#")]),e._v(" Install")]),e._v(" "),n("p",[e._v("Installation steps in testing environment are similar as in development environment. See "),n("a",{attrs:{href:"#install"}},[e._v("Install")]),e._v(".")]),e._v(" "),n("h4",{attrs:{id:"create-test-account"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-test-account"}},[e._v("#")]),e._v(" Create Test Account")]),e._v(" "),n("p",[e._v("Remember to create new test account and stake for the account each time gvite has been rebooted. The test account will be used to create or call contract.")]),e._v(" "),n("p",[e._v("Following steps are finished during account creation")]),e._v(" "),n("ul",[n("li",[e._v("Creating new test account address")]),e._v(" "),n("li",[e._v("A amount of tokens are sent out from genesis account to test account")]),e._v(" "),n("li",[e._v("Tokens are received by test account")]),e._v(" "),n("li",[e._v("Genesis account stakes for test account to obtain quota")]),e._v(" "),n("li",[e._v("Test account waits to receive quota")])]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c2ggY3JlYXRlX2FjY291bnQuc2gK"}}),e._v(" "),n("h4",{attrs:{id:"create-contract-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-contract-2"}},[e._v("#")]),e._v(" Create Contract")]),e._v(" "),n("p",[e._v("Compared with in development environment, additional test account address should be specified when running create_contract.sh")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c2ggY3JlYXRlX2NvbnRyYWN0LnNoIEhlbGxvV29ybGQuc29scHAgdml0ZV9kNWZlNTgwZDBiYThmYTQwMDJlMmEzM2FmMmNkMTA2NDVhNThhZDE1NTJkNDU2MmMwYQo="}}),e._v(" "),n("p",[e._v("Run pledge_for_contract.sh to stake for contract account created")]),e._v(" "),n("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c2ggcGxlZGdlX2Zvcl9jb250cmFjdC5zaCB2aXRlXzg3Mzk2NTNmN2ZlZTdlMzljM2ZiZWVlMTRlOGMxN2ZlNGY3ZmYyMGU4NjA3ZmIwNWFiCg=="}}),e._v(" "),n("h4",{attrs:{id:"call-contract-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#call-contract-2"}},[e._v("#")]),e._v(" Call Contract")]),e._v(" "),n("p",[e._v("See "),n("a",{attrs:{href:"#call-contract"}},[e._v("Call Contract")]),e._v(" in development environment")])],1)}),[],!1,null,null,null);t.default=c.exports}}]);